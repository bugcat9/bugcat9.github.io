<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
<meta name="google-site-verification" content="h6mqk4DHw-91R-MekBrLgCwD8GSHlkGduz8ltdkIfFI" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">



<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"bugcat.top","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="python舞蹈链数独游戏数独简介数独游戏是一款古老的智力游戏，据说最早可以追溯到中国古代的“河图洛书”，但是真实可查的是在18世纪数学家欧拉等人发明了“拉丁方阵”等成为数独的最早的样子，后来经过日本的改进逐渐成为现代的数独游戏[1]。 数独游戏一共有$9 \times 9$个单元格子，在数独游戏当中，玩家需要根据已有的数字去推理出所有的剩余空格的数字，并且要保证 $9 \times 9$的单位格">
<meta property="og:type" content="article">
<meta property="og:title" content="python舞蹈链数独游戏">
<meta property="og:url" content="https://bugcat.top/2022/07/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/python%E8%88%9E%E8%B9%88%E9%93%BE%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F/index.html">
<meta property="og:site_name" content="bugCat&#39;s Blog">
<meta property="og:description" content="python舞蹈链数独游戏数独简介数独游戏是一款古老的智力游戏，据说最早可以追溯到中国古代的“河图洛书”，但是真实可查的是在18世纪数学家欧拉等人发明了“拉丁方阵”等成为数独的最早的样子，后来经过日本的改进逐渐成为现代的数独游戏[1]。 数独游戏一共有$9 \times 9$个单元格子，在数独游戏当中，玩家需要根据已有的数字去推理出所有的剩余空格的数字，并且要保证 $9 \times 9$的单位格">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712105810489.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712112439300.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155430959.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155512313.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155732882.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155807311.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155848091.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155933356.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160005226.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160122977.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160144320.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160424299.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162558036.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162658587.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162721385.png">
<meta property="article:published_time" content="2022-07-11T21:32:07.000Z">
<meta property="article:modified_time" content="2024-10-20T13:34:26.728Z">
<meta property="article:author" content="bugCat">
<meta property="article:tag" content="舞蹈链">
<meta property="article:tag" content="数独">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712105810489.png">

<link rel="canonical" href="https://bugcat.top/2022/07/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/python%E8%88%9E%E8%B9%88%E9%93%BE%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>python舞蹈链数独游戏 | bugCat's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="bugCat's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">bugCat's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">毛的感情的程序猿</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/bugcat9" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bugcat.top/2022/07/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/python%E8%88%9E%E8%B9%88%E9%93%BE%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/avatar/zhouning.png">
      <meta itemprop="name" content="bugCat">
      <meta itemprop="description" content="啥都不会">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="bugCat's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          python舞蹈链数独游戏
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-11 21:32:07" itemprop="dateCreated datePublished" datetime="2022-07-11T21:32:07+00:00">2022-07-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-10-20 13:34:26" itemprop="dateModified" datetime="2024-10-20T13:34:26+00:00">2024-10-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="python舞蹈链数独游戏"><a href="#python舞蹈链数独游戏" class="headerlink" title="python舞蹈链数独游戏"></a>python舞蹈链数独游戏</h1><h2 id="数独简介"><a href="#数独简介" class="headerlink" title="数独简介"></a>数独简介</h2><p>数独游戏是一款古老的智力游戏，据说最早可以追溯到中国古代的“河图洛书”，但是真实可查的是在18世纪数学家欧拉等人发明了“拉丁方阵”等成为数独的最早的样子，后来经过日本的改进逐渐成为现代的数独游戏[1]。</p>
<p>数独游戏一共有$9 \times 9$个单元格子，在数独游戏当中，玩家需要根据已有的数字去推理出所有的剩余空格的数字，并且要保证 $9 \times 9$的单位格子中每一行、每一列以及每个$3 \times 3$的九宫格内的数字不重复。数独游戏在开始的适合叫做初盘（如图1(a)所展示），包含数字和空格，当游戏成功完成时的状态叫终盘（图1(b)所展示），只有填写完成的数字。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712105810489.png" alt="图1"></p>
<span id="more"></span>
<h2 id="数独的解法"><a href="#数独的解法" class="headerlink" title="数独的解法"></a>数独的解法</h2><p>数独的求解方法有很有很多种，比如回溯求解、基于最小候选数求解等，本次作业我们选择的方法是基于舞蹈链的数组且介方法，在本小节会着重介绍舞蹈链以及数组求解的理论知识。</p>
<h3 id="精确覆盖问题"><a href="#精确覆盖问题" class="headerlink" title="精确覆盖问题"></a>精确覆盖问题</h3><p>在一个全集$X$ 中，若干子集的集合为 $S$。精确覆盖是指，$S$的子集$S^<em>$恰好满足$X$中的每一个元素在$S^</em>$中出现一次。这样讲可能不太通俗所以下面通过一个小例子讲解一下这个问题。</p>
<p>我们给定一个由0和1组成的矩阵，希望找到一个行的集合，使得集合中每一列都恰好包含一个1，矩阵如表1所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"><strong>1</strong></th>
<th style="text-align:center"><strong>2</strong></th>
<th style="text-align:center"><strong>3</strong></th>
<th style="text-align:center"><strong>4</strong></th>
<th style="text-align:center"><strong>5</strong></th>
<th style="text-align:center"><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>A</strong></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td>1</td>
</tr>
<tr>
<td style="text-align:center"><strong>B</strong></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>C</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td>1</td>
</tr>
<tr>
<td style="text-align:center"><strong>D</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>E</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td>1</td>
</tr>
<tr>
<td style="text-align:center"><strong>F</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>我们可以简单的通过回溯法得到最终的解是$S^*={ B,D,F}$，结果如表2所示:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"><strong>1</strong></th>
<th style="text-align:center"><strong>2</strong></th>
<th style="text-align:center"><strong>3</strong></th>
<th style="text-align:center"><strong>4</strong></th>
<th style="text-align:center"><strong>5</strong></th>
<th style="text-align:center"><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>B</strong></td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>D</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>F</strong></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>但是在这个过程中涉及大量的矩阵进行缓存更改以及回溯的问题，这一过程是非常浪费系统资源的，所以如何优雅且高效的解决这个问题，减少系统开销，成为了算法大师们的一个问题。</p>
<h3 id="舞蹈链"><a href="#舞蹈链" class="headerlink" title="舞蹈链"></a>舞蹈链</h3><p>为了解决上面提到的回溯寻找精确覆盖问题，算法大师Donald Ervin Knuth提出了舞蹈链（Dancing Links）的数据结构，并且把求解过程称为X算法。舞蹈链的数据结构中每个节点都要6个指针，分别是：Left、Right、Up、Down、Col、Row，分别代表着左、右、上、下、行、列。舞蹈链中每一列都有特殊的结点，叫做列头，列头会记录这一列中的结点个数，列头互相连接构成了链表头，舞蹈链的图示可以参考图2。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712112439300.png" alt="图2"></p>
<p>有了舞蹈链的数据结构之后，我们可以使用X算法进行求解。X算法的步骤如下：</p>
<ol>
<li>如果矩阵$M$为空，没有任何列，则当前的选择为问题的解，返回成功；否则进入2。</li>
<li>选择列$c$，其中  的结点数最少的列，即1的数量最少，如果其中某一列没有1，则返回失败。</li>
<li>选择行$r$（其中的 $r$满足 $M_{r,c}=1$），并将 $r$加入到当前的解当中。</li>
<li>从矩阵$M$中删除满足 $M<em>{r,j}=1 and M</em>{i,j}=1$的第 $i$行和第$j$列，得到矩阵$\acute{M}$ </li>
<li>令$M=\acute{M}$继续进入1。</li>
</ol>
<p>这样说可能比较抽象，让我们以表1代表的矩阵为列，进行演示：</p>
<ul>
<li>首先，因为矩阵$M$不为空，还存在列，算法没有结束。</li>
<li>我们选择1数量最少的列“1”，如表3所展示。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td><strong>1</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td><strong>1</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155430959.png" alt="image-20220712155430959"></p>
<ul>
<li>因为$M<em>{A,1}=1$并且$M</em>{B,1}=1$所以可以依次选取 $A,B$行。</li>
<li>先选取$A$行（将$A$行加入到当前的解中），第1、4、7列均为1，如表4所展示。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155512313.png" alt="image-20220712155512313"></p>
<ul>
<li>第1列中第$A$行和第$B$行为1，第4列中第 $A,B,C$行为1，第7列中第$A,C,E,F$行和第$1、4、7$列，如表5所展示。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155732882.png" alt="image-20220712155732882"></p>
<ul>
<li>得到矩阵$\acute{M}$，继续进行递归</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155807311.png" alt="image-20220712155807311"></p>
<ul>
<li>算法递归发现第2列为0，所以返回失败，所以开始选择$A$行不是算法的解，则从解中删除 $A$</li>
<li>返回最开始的部分，将$B$行加入到当前的解中。第1、4列均为1，如表7所展示。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155848091.png" alt="image-20220712155848091"></p>
<ul>
<li>第一列中$A$行和$B$行为1，第4列中第$A,B,C$行为1。所以移除第$A,B,C$行和第1、4列，如表8所示。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712155933356.png" alt="image-20220712155933356"></p>
<ul>
<li>最终得到矩阵如表9所展示，并且继续进行递归</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160005226.png" alt="image-20220712160005226"></p>
<ul>
<li>选择1数量最少的列“5”。</li>
<li>将$D$行加入到当前的解中。第3、5、6列均为1。</li>
<li>第3列中第$D、E$行为1，第5列中第$D$行为1，第6列中第$D、E$行为1。所以移除第$D、E$行和第3、5、6列。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>D</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td><strong>E</strong></td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>F</strong></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160122977.png" alt="image-20220712160122977"></p>
<ul>
<li>最终得到矩阵如表11所展示，继续递归下去就知道这个解是成功的。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>2</th>
<th>7</th>
</tr>
</thead>
<tbody>
<tr>
<td>F</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160144320.png" alt="image-20220712160144320"></p>
<ul>
<li>所以最终解为${B,D,F}$</li>
</ul>
<p>通过这种实例展示，我们大致可以明白舞蹈链的运算过程了。这一小节如果看不太明白的可以看一下下面的链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/grenet/p/3145800.html">https://www.cnblogs.com/grenet/p/3145800.html</a></p>
<p><a target="_blank" rel="noopener" href="https://zh.m.wikipedia.org/zh-hans/X%E7%AE%97%E6%B3%95">https://zh.m.wikipedia.org/zh-hans/X%E7%AE%97%E6%B3%95</a></p>
<h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><p>整个数独游戏我采用python语言进行完成，界面采用pyqt进行编写。在这里小节介绍如何实现数组游戏，只介绍核心代码，其中几个类的关系如图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712160424299.png" alt="image-20220712160424299"></p>
<h3 id="舞蹈链实现DLX"><a href="#舞蹈链实现DLX" class="headerlink" title="舞蹈链实现DLX"></a>舞蹈链实现DLX</h3><p>首先是舞蹈链的结点DLXNode，我设计了主要的左、右、上、下、列头这5个指针。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 舞蹈链的结点</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DLXNode</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, row=-<span class="number">1</span>, col=-<span class="number">1</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>.left = <span class="variable language_">self</span></span><br><span class="line">        <span class="variable language_">self</span>.right = <span class="variable language_">self</span></span><br><span class="line">        <span class="variable language_">self</span>.up = <span class="variable language_">self</span></span><br><span class="line">        <span class="variable language_">self</span>.down = <span class="variable language_">self</span></span><br><span class="line">        <span class="variable language_">self</span>.colHead = <span class="variable language_">self</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 用于列头，记录结点数</span></span><br><span class="line">        <span class="variable language_">self</span>.count = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 单纯的标记，方便调试</span></span><br><span class="line">        <span class="variable language_">self</span>.colId = col</span><br><span class="line">        <span class="variable language_">self</span>.rowId = row</span><br></pre></td></tr></table></figure>
<p>接着我开始实现DLX，DLX的数据初始时主要为一个head头节点以及一个col的数组，col数组用来存储链表头，在初始化的时候我们需要将整个head和col数组进行初始化，需要理清他们之间的指针连接，初始化输入是一个colnum，表示链表头的个数，即列的个数，可以参考下面的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DLX</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, colnum</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;舞蹈链初始化</span></span><br><span class="line"><span class="string">        args:</span></span><br><span class="line"><span class="string">            colnum:链表头个数</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># self.count = 0</span></span><br><span class="line">        <span class="comment"># 行数</span></span><br><span class="line">        <span class="variable language_">self</span>.rownum = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 记录行字典</span></span><br><span class="line">        <span class="variable language_">self</span>.rowdict = &#123;&#125;</span><br><span class="line">        <span class="variable language_">self</span>.ans = []</span><br><span class="line">        <span class="variable language_">self</span>.head = DLXNode()</span><br><span class="line">        <span class="variable language_">self</span>.col = [DLXNode(-<span class="number">1</span>, i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(colnum)]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 将链表头和head连接起来</span></span><br><span class="line">        <span class="variable language_">self</span>.head.left = <span class="variable language_">self</span>.col[-<span class="number">1</span>]</span><br><span class="line">        <span class="variable language_">self</span>.head.right = <span class="variable language_">self</span>.col[<span class="number">0</span>]</span><br><span class="line">        <span class="variable language_">self</span>.col[<span class="number">0</span>].left = <span class="variable language_">self</span>.head</span><br><span class="line">        <span class="variable language_">self</span>.col[<span class="number">0</span>].right = <span class="variable language_">self</span>.col[<span class="number">1</span>]</span><br><span class="line">        <span class="variable language_">self</span>.col[-<span class="number">1</span>].left = <span class="variable language_">self</span>.col[-<span class="number">2</span>]</span><br><span class="line">        <span class="variable language_">self</span>.col[-<span class="number">1</span>].right = <span class="variable language_">self</span>.head</span><br><span class="line">        <span class="comment"># 将链表头之间连接起来</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, colnum-<span class="number">1</span>):</span><br><span class="line">            <span class="variable language_">self</span>.col[i].left = <span class="variable language_">self</span>.col[i-<span class="number">1</span>]</span><br><span class="line">            <span class="variable language_">self</span>.col[i].right = <span class="variable language_">self</span>.col[i+<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>DLX进行初始化之后，我们需要进行数据的插入，在这里采取的是一行一行的插入，即先插入第一行再插入第二行，所以插入的数据结点其实都是这一列最后一个结点，根据这一特点，我们进行结点上、下、左、右四个方向指针的设置，这个函数的输入是一个数组，其中元素是插入的列头id。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pushRow</span>(<span class="params">self, colList</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;插入一行数据，按照一行一行，递增的插入</span></span><br><span class="line"><span class="string">    args:</span></span><br><span class="line"><span class="string">        colList:数组，里面存着列头的id</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(colList,self.rownum)</span></span><br><span class="line">    <span class="variable language_">self</span>.rowdict[<span class="variable language_">self</span>.rownum] = colList</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对于结点，列方向上，上下指针的变动</span></span><br><span class="line">    <span class="keyword">for</span> cowId <span class="keyword">in</span> colList:</span><br><span class="line">        <span class="comment"># 每个插入的结点，都为该列最后一个结点</span></span><br><span class="line">        node = DLXNode(<span class="variable language_">self</span>.rownum, cowId)</span><br><span class="line">        node.down = <span class="variable language_">self</span>.col[cowId]</span><br><span class="line">        node.up = <span class="variable language_">self</span>.col[cowId].up</span><br><span class="line">        node.colHead = <span class="variable language_">self</span>.col[cowId]</span><br><span class="line">        <span class="variable language_">self</span>.col[cowId].up.down = node</span><br><span class="line">        <span class="variable language_">self</span>.col[cowId].up = node</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.col[cowId].count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对于结点，行方向的两个指针的变动</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(colList)):</span><br><span class="line">        <span class="variable language_">self</span>.col[colList[i]].up.left = <span class="variable language_">self</span>.col[colList[i-<span class="number">1</span>]].up</span><br><span class="line">        <span class="variable language_">self</span>.col[colList[i]].up.right = <span class="variable language_">self</span>.col[colList[(i+<span class="number">1</span>) % <span class="built_in">len</span>(colList)]].up</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">self</span>.rownum += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>有了上面的两个函数，我们就可以创建一个DLX的数据结构了，下面就需要来进行对应结点的“跳舞”，也就是结点的删除和恢复。先介绍结点的删除，删除我采用的是给定一个列的列头，遍历列的结点进行对应的删除。需要注意的是我们删除采取的方式是改变结点<code>a</code>指向的结点的指针指向，但是不改变结点  的指向，这就为后续恢复结点的恢复埋下伏笔，删除函数的输入是需要删除列的列头结点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">remove</span>(<span class="params">self, c: DLXNode</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;以列为单位进行删除</span></span><br><span class="line"><span class="string">    args:</span></span><br><span class="line"><span class="string">        c:列头</span></span><br><span class="line"><span class="string">    return:</span></span><br><span class="line"><span class="string">        删除是否成功的结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># print(c.colId,&#x27;列被删除&#x27;)</span></span><br><span class="line">    <span class="comment"># 将列头从链表头中删除，只改变了c结点left、right的指向，并未改变c的指向，为恢复做准备</span></span><br><span class="line">    c.left.right = c.right</span><br><span class="line">    c.right.left = c.left</span><br><span class="line">    <span class="keyword">if</span> c.down == c:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    i = c.down</span><br><span class="line">    <span class="keyword">while</span> i != c:</span><br><span class="line">        <span class="comment">#遍历这一列，i为这一列中的结点</span></span><br><span class="line">        <span class="comment">#注意，遍历了这一列，但是并没有改变这一列结点之间的关系，为后面的恢复埋下了种子</span></span><br><span class="line">        j = i.right</span><br><span class="line">        <span class="keyword">while</span> j != i:</span><br><span class="line">            <span class="comment"># 遍历i结点这一行，将这一行的结点进行删除</span></span><br><span class="line">            <span class="comment"># 注意只是改变了j结点up、down的指向，并没有改变j的指向，为后面j的恢复做准备</span></span><br><span class="line">            j.up.down = j.down</span><br><span class="line">            j.down.up = j.up</span><br><span class="line">            j.colHead.count -= <span class="number">1</span></span><br><span class="line">            j = j.right</span><br><span class="line">        i = i.down</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>结点的恢复和结点的删除刚好相反，将对应的结点添加进原始的位置，因为之前没有改变结点的指向，所以只需要根据结点自身就能进行恢复，恢复函数输入是恢复列的列头结点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">recover</span>(<span class="params">self, c: DLXNode</span>):        </span><br><span class="line">    <span class="string">&quot;&quot;&quot;以列为单位进行恢复</span></span><br><span class="line"><span class="string">    args:</span></span><br><span class="line"><span class="string">        c:列头</span></span><br><span class="line"><span class="string">    return:</span></span><br><span class="line"><span class="string">        恢复是否成功的结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># print(c.colId,&#x27;列被恢复&#x27;)</span></span><br><span class="line">    i = c.down</span><br><span class="line">    <span class="keyword">while</span> i != c:</span><br><span class="line">        <span class="comment">#遍历这一列，i为这一列结点</span></span><br><span class="line">        j = i.right</span><br><span class="line">        <span class="keyword">while</span> j != i:</span><br><span class="line">            <span class="comment"># 遍历i结点这一行，根据j结点的指向进行恢复</span></span><br><span class="line">            j.up.down = j</span><br><span class="line">            j.down.up = j</span><br><span class="line">            j.colHead.count += <span class="number">1</span></span><br><span class="line">            j = j.right</span><br><span class="line">        i = i.down</span><br><span class="line">    <span class="comment"># 根据c结点的指向，将c加入到链表头当中</span></span><br><span class="line">    c.left.right = c</span><br><span class="line">    c.right.left = c</span><br></pre></td></tr></table></figure>
<p>接着介绍一下“跳舞”需要使用的功能寻找最少结点的列的功能，因为每个列头都记录了该列的结点数量所以只需要简单的遍历这一列就可以实现这个功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 寻找count最小的</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">FindMinCount</span>(<span class="params">self</span>):</span><br><span class="line">    c = <span class="variable language_">self</span>.head.right</span><br><span class="line">    minnode = c</span><br><span class="line">    <span class="keyword">while</span> c != <span class="variable language_">self</span>.head:</span><br><span class="line">        <span class="keyword">if</span> c.count &lt; minnode.count:</span><br><span class="line">            minnode = c</span><br><span class="line">        c = c.right</span><br><span class="line">    <span class="keyword">return</span> minnode</span><br></pre></td></tr></table></figure>
<p>有了上面的内容我们可以进行最终的“跳舞”了。过程可以简述为先选取结点数最少的列，然后将这一列的结点进行删除，然后选择其中一行作为解，然后把这一行对应的结点的列进行删除，然后进行递归最终得到解。具体的逻辑过程我们可以参考2.2节中舞蹈链的介绍。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Dance</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># 寻找结点数最少的列</span></span><br><span class="line">    c = <span class="variable language_">self</span>.FindMinCount()</span><br><span class="line">    <span class="keyword">if</span> c == <span class="variable language_">self</span>.head:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 删除结点数最少的列c</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable language_">self</span>.remove(c):</span><br><span class="line">        <span class="comment"># print(&#x27;删除失败&#x27;)</span></span><br><span class="line">        <span class="variable language_">self</span>.recover(c)</span><br><span class="line">        <span class="comment"># self.count-=1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    i = c.down</span><br><span class="line">    <span class="keyword">while</span> i != c:</span><br><span class="line">        <span class="comment"># 选择第i行为答案，需要将第i行上结点的列进行删除</span></span><br><span class="line">        <span class="comment"># print((i.rowId,i.colId),self.count)</span></span><br><span class="line">        j = i.right</span><br><span class="line">        <span class="keyword">while</span> j != i:</span><br><span class="line">            <span class="variable language_">self</span>.remove(j.colHead)</span><br><span class="line">            j = j.right</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.Dance():</span><br><span class="line">            <span class="comment"># print(&quot;跳舞成功&quot;)</span></span><br><span class="line">            <span class="variable language_">self</span>.ans.append(<span class="variable language_">self</span>.rowdict[i.rowId])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 进行回溯</span></span><br><span class="line">        j = i.right</span><br><span class="line">        <span class="keyword">while</span> j != i:</span><br><span class="line">            <span class="variable language_">self</span>.recover(j.colHead)</span><br><span class="line">            j = j.right</span><br><span class="line">        i = i.down</span><br><span class="line"></span><br><span class="line">    <span class="comment"># self.count-=1</span></span><br><span class="line">    <span class="comment"># 恢复被删除的列c</span></span><br><span class="line">    <span class="variable language_">self</span>.recover(c)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h3 id="数独的DLX"><a href="#数独的DLX" class="headerlink" title="数独的DLX"></a>数独的DLX</h3><p>介绍完舞蹈链的实习之后，这一小节介绍一下如何将数独问题转化为精确覆盖问题，然后使用舞蹈链进行求解。数独规则一共有四点：</p>
<ul>
<li>每个单元格需要填写一个数字</li>
<li>每行数字不能相同</li>
<li>每列数字不能相同</li>
<li>每格宫数字不能相同</li>
</ul>
<p>我们可以把矩阵每一列都定义为一个约束，在单元格内填写数字就是加一行，然后对应的列为1，最终需要找到对应的行来覆盖这个矩阵。</p>
<p>针对第一条规则，我们可以使用$1-81$列进行约束，那个单元格填写了数字，那一列就会有一个结点1，假如说那个单元格没有填数字，那么第  列中某列就不会被覆盖。</p>
<p>针对第二条规则，我们使用$82-162$列进行约束，第82列定义成：在第1行填了数字1；……；第90列定义成：在第1行填了数字9；……；第162列定义成：在第9行填了数字9。如果第一行填写了两次1，那么矩阵中列1就会有两行，再消除的时候这两个结点会被同时消除，就会导致无法完全覆盖。</p>
<p>针对第三条规则，我们使用$163-243$列进行约束，第163列定义成：在第1列填了数字1；……；第171列定义成：在第1列填了数字9；……；第243列定义成：在第9列填了数字9。</p>
<p>针对第四条规则，我们使用$82-162$列进行约束，第244列定义成：在第1宫填了数字1；……；第252列定义成：在第1宫填了数字9；……；第324列定义成：在第9宫填了数字9。</p>
<p>基于上述规则，就可以把数独转化为一个精确覆盖问题的矩阵，在数独转化的时候数独有两种情况，填写了数字的单元格和没有填写数字的单元格，针对这两中情况需要分别进行处理。</p>
<p>有数字的单元格，我们使用$N_1,N_2,N_3,N_4$对应着规则中的列，设数字在  行  列数值为  。对应的公式如下：</p>
<script type="math/tex; mode=display">
N_1=x*9+y</script><script type="math/tex; mode=display">
N_2=x*9+z+81</script><script type="math/tex; mode=display">
N_3=y*9+z+162</script><script type="math/tex; mode=display">
N_4=[x/3]*3+[y/3]*9+243</script><p>其中$[]$代表取整。</p>
<p>对于没有数字的单元格，因为我们是进行求解，所以这个格子可能会填入$1-9$中任意一个数字，所以我们把这9个填写产生的行都插入到矩阵中，最终的解肯定是这9行之一。</p>
<p>代码的实现上，创建了一个sudoku类继承DLX，sudoku的初始化，函数的输入数独的数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">sudoku</span>(<span class="title class_ inherited__">DLX</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, maze</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        args:</span></span><br><span class="line"><span class="string">            maze:大小9*9，内容为每个单元格填写的数字</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="number">9</span>*<span class="number">9</span>*<span class="number">4</span>)</span><br><span class="line">        <span class="comment"># 切断关系采取深复制</span></span><br><span class="line">        <span class="variable language_">self</span>.maze = copy.deepcopy(maze)</span><br></pre></td></tr></table></figure>
<p>将数独转化为精确覆盖的矩阵代码实现起来不难，遍历数独数组，再按照上面介绍的进行转化就行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pushToDLX</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            z = <span class="built_in">int</span>(<span class="variable language_">self</span>.maze[x][y])</span><br><span class="line">            colList = []</span><br><span class="line">            <span class="keyword">if</span> z != <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># 单元格有数字</span></span><br><span class="line">                N1 = x*<span class="number">9</span>+y</span><br><span class="line">                N2 = x*<span class="number">9</span>+z+<span class="number">80</span></span><br><span class="line">                N3 = y*<span class="number">9</span>+z+<span class="number">161</span></span><br><span class="line">                N4 = ((x//<span class="number">3</span>)*<span class="number">3</span>+(y//<span class="number">3</span>))*<span class="number">9</span>+z+<span class="number">242</span></span><br><span class="line">                colList.append(N1)</span><br><span class="line">                colList.append(N2)</span><br><span class="line">                colList.append(N3)</span><br><span class="line">                colList.append(N4)</span><br><span class="line">                <span class="variable language_">self</span>.pushRow(colList)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 单元格没有数字，将9种可能性都插入</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">                    colList = []</span><br><span class="line">                    z = i</span><br><span class="line">                    N1 = x*<span class="number">9</span>+y</span><br><span class="line">                    N2 = x*<span class="number">9</span>+z+<span class="number">80</span></span><br><span class="line">                    N3 = y*<span class="number">9</span>+z+<span class="number">161</span></span><br><span class="line">                    N4 = ((x//<span class="number">3</span>)*<span class="number">3</span>+(y//<span class="number">3</span>))*<span class="number">9</span>+z+<span class="number">242</span></span><br><span class="line">                    colList.append(N1)</span><br><span class="line">                    colList.append(N2)</span><br><span class="line">                    colList.append(N3)</span><br><span class="line">                    colList.append(N4)</span><br><span class="line">                    <span class="variable language_">self</span>.pushRow(colList)</span><br></pre></td></tr></table></figure>
<p>最后还有一个函数就是将精确覆盖的解转化为数独数组里面的值，因为解里面存的是二维数组，一行种存的是四个列的值，可以通过一下公式进行求解。</p>
<script type="math/tex; mode=display">
x=[N_1/9]</script><script type="math/tex; mode=display">
y=N1\%9</script><script type="math/tex; mode=display">
z=[N_2-81]\%9</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ans2Maze</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> <span class="variable language_">self</span>.ans:</span><br><span class="line">        x = col[<span class="number">0</span>]//<span class="number">9</span></span><br><span class="line">        y = col[<span class="number">0</span>] % <span class="number">9</span></span><br><span class="line">        z = (col[<span class="number">1</span>]-<span class="number">80</span>) % <span class="number">9</span></span><br><span class="line">        <span class="keyword">if</span> z == <span class="number">0</span>:</span><br><span class="line">            z = <span class="number">9</span></span><br><span class="line">        <span class="variable language_">self</span>.maze[x][y] = z</span><br></pre></td></tr></table></figure>
<h3 id="sudokuore介绍"><a href="#sudokuore介绍" class="headerlink" title="sudokuore介绍"></a>sudokuore介绍</h3><p>sudokuore是一个类用于管理数独游戏，比如什么提示、开始游戏、重新开始游戏等功能，在这里只介绍一下数组游戏中的生成数组。数组生成也有一系列的方法，比如自己随机生成一些数字填一下然后判断数字能否有解之类的，但是这种方法生成时间太长，所以我这里采取的是选一个已经生成的初盘数独，将其中数字进行变换，比如我们把初盘中“1”和“2”进行替换，那么这个数组还是一样的有解，实现了一个看起来和之前相比就是变化的，如图展示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162558036.png" alt="image-20220712162558036"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">sudokucore</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.Iscanchangmaze = [[<span class="literal">True</span>]*<span class="number">9</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>)]</span><br><span class="line">        <span class="variable language_">self</span>.randomList = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)]</span><br><span class="line">        <span class="comment"># levelfile 保存着初盘数组</span></span><br><span class="line">        <span class="variable language_">self</span>.LevelFile = <span class="string">&#x27;困难.txt&#x27;</span></span><br><span class="line">        <span class="variable language_">self</span>.initMaze()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.Leveldict = <span class="built_in">dict</span>()</span><br><span class="line">        <span class="variable language_">self</span>.Leveldict[<span class="number">1</span>] = <span class="string">&#x27;简单.txt&#x27;</span></span><br><span class="line">        <span class="variable language_">self</span>.Leveldict[<span class="number">2</span>] = <span class="string">&#x27;普通.txt&#x27;</span></span><br><span class="line">        <span class="variable language_">self</span>.Leveldict[<span class="number">3</span>] = <span class="string">&#x27;困难.txt&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.Iscanchangmaze)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initMaze</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.maze = []</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="variable language_">self</span>.LevelFile, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">                <span class="variable language_">self</span>.maze.append(line.strip().split(<span class="string">&#x27;,&#x27;</span>))</span><br><span class="line">        <span class="comment"># 进行洗牌</span></span><br><span class="line">        random.shuffle(<span class="variable language_">self</span>.randomList)</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.randomList)</span><br><span class="line">        <span class="variable language_">self</span>.colDict = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="variable language_">self</span>.colDict[<span class="variable language_">self</span>.randomList[i]] = i</span><br><span class="line">        <span class="comment"># 进行变换</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.colDict)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">                z = <span class="built_in">int</span>(<span class="variable language_">self</span>.maze[i][j])</span><br><span class="line">                <span class="keyword">if</span> z != <span class="number">0</span>:</span><br><span class="line">                    index = <span class="variable language_">self</span>.colDict[z]</span><br><span class="line">                    <span class="comment"># 对应的数字进行变换</span></span><br><span class="line">                    <span class="variable language_">self</span>.maze[i][j] = <span class="variable language_">self</span>.randomList[(index+<span class="number">1</span>) % <span class="number">9</span>]</span><br><span class="line">                    <span class="variable language_">self</span>.Iscanchangmaze[i][j] = <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h2 id="运行结果展示"><a href="#运行结果展示" class="headerlink" title="运行结果展示"></a>运行结果展示</h2><p>界面运行和各个部分的功能展示，如图5所展示</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162658587.png" alt="图5"></p>
<p>全部填写完成后结果展示如图6所示</p>
<p><img src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/数据结构/image-20220712162721385.png" alt="图6"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这次的数独小游戏，让我学习到了如何完成一个完整的小工程，也学习了舞蹈链的编写和实现，这个项目还有许多值得改进的地方，希望后续有时间再进行改进吧。</p>
<p>仓库地址：<a target="_blank" rel="noopener" href="https://github.com/bugcat9/sudoku">https://github.com/bugcat9/sudoku</a></p>
<p><strong>参考：</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh.m.wikipedia.org/zh-hans/X%E7%AE%97%E6%B3%95">https://zh.m.wikipedia.org/zh-hans/X%E7%AE%97%E6%B3%95</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.m.wikipedia.org/zh-hans/%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98">https://zh.m.wikipedia.org/zh-hans/%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.m.wikipedia.org/zh-hans/%E8%88%9E%E8%B9%88%E9%93%BE">https://zh.m.wikipedia.org/zh-hans/%E8%88%9E%E8%B9%88%E9%93%BE</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mamicode.com/info-detail-2274481.html">http://www.mamicode.com/info-detail-2274481.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/grenet/p/3145800.html">https://www.cnblogs.com/grenet/p/3145800.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/grenet/p/3145800.html">https://www.cnblogs.com/grenet/p/3145800.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/grenet/p/7903680.html">https://www.cnblogs.com/grenet/p/7903680.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wujiechao/p/5767124.html">https://www.cnblogs.com/wujiechao/p/5767124.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/WhereIsHeroFrom/article/details/79220897">https://blog.csdn.net/WhereIsHeroFrom/article/details/79220897</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_26822029/article/details/81129701">https://blog.csdn.net/qq_26822029/article/details/81129701</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/peng_wu01/article/details/6026103">https://blog.csdn.net/peng_wu01/article/details/6026103</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/zj0395/article/details/72773001">https://blog.csdn.net/zj0395/article/details/72773001</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E8%88%9E%E8%B9%88%E9%93%BE/" rel="tag"><i class="fa fa-tag"></i> 舞蹈链</a>
              <a href="/tags/%E6%95%B0%E7%8B%AC/" rel="tag"><i class="fa fa-tag"></i> 数独</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/29/%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0/Background-Click%20Supervision%20for%20Temporal%20Action%20Localization/" rel="prev" title="Background-Click Supervision for Temporal Action Localization">
      <i class="fa fa-chevron-left"></i> Background-Click Supervision for Temporal Action Localization
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/07/14/Linux/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/select%E5%B0%8F%E4%BE%8B%E5%AD%90/" rel="next" title="select小例子">
      select小例子 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#python%E8%88%9E%E8%B9%88%E9%93%BE%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F"><span class="nav-number">1.</span> <span class="nav-text">python舞蹈链数独游戏</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%8B%AC%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.</span> <span class="nav-text">数独简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%8B%AC%E7%9A%84%E8%A7%A3%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">数独的解法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98"><span class="nav-number">1.2.1.</span> <span class="nav-text">精确覆盖问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%88%9E%E8%B9%88%E9%93%BE"><span class="nav-number">1.2.2.</span> <span class="nav-text">舞蹈链</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.3.</span> <span class="nav-text">具体实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%88%9E%E8%B9%88%E9%93%BE%E5%AE%9E%E7%8E%B0DLX"><span class="nav-number">1.3.1.</span> <span class="nav-text">舞蹈链实现DLX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%8B%AC%E7%9A%84DLX"><span class="nav-number">1.3.2.</span> <span class="nav-text">数独的DLX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sudokuore%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.3.</span> <span class="nav-text">sudokuore介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="nav-number">1.4.</span> <span class="nav-text">运行结果展示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.5.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="bugCat"
      src="https://cdn.jsdelivr.net/gh/bugcat9/blog-image-bed@main/avatar/zhouning.png">
  <p class="site-author-name" itemprop="name">bugCat</p>
  <div class="site-description" itemprop="description">啥都不会</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">95</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/bugcat9" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;bugcat9" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1767508581@qq.com" title="E-Mail → mailto:1767508581@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bugCat</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">493k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">7:28</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '5181a7c6b299b2f49124',
      clientSecret: '840df9eaf797888f8029b5a03aca0f28fe042bcf',
      repo        : 'bugcat9.github.io',
      owner       : 'bugcat9',
      admin       : ['bugcat9'],
      id          : '9a89f6e9e72b9bac28fbeeffad359c83',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
  

  <script async src="/js/cursor/fireworks.js"></script>




  <script src="/js/activate-power-mode.min.js"></script>
  <script>
    POWERMODE.colorful = true;
    POWERMODE.shake = false;
    document.body.addEventListener('input', POWERMODE);
  </script>

</body>
</html>
