---
title: numpyåŸºç¡€å­¦ä¹ 
date: 2021-07-24 11:10:00
tags:
- python
- numpy
categories:
- æ•°æ®åˆ†æ
---
# numpyåŸºç¡€å­¦ä¹ 

numpyæ¨¡å—æ˜¯å­¦ä¹ æ•°æ®åˆ†æå’Œæ·±åº¦å­¦ä¹ å¿…é¡»å­¦ä¹ çš„å†…å®¹ï¼Œä¸€ä¸ªåœ¨Pythonä¸­åšç§‘å­¦è®¡ç®—çš„åŸºç¡€åº“ï¼Œé‡åœ¨æ•°å€¼è®¡ç®—ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†PYTHONç§‘å­¦è®¡ç®—åº“çš„åŸºç¡€åº“ï¼Œå¤šç”¨äºåœ¨å¤§å‹ã€å¤šç»´æ•°ç»„ä¸Šæ‰§è¡Œæ•°å€¼è¿ç®—ï¼Œæ‰€ä»¥æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£ä¸€ä¸‹numpyçš„åŸºç¡€å†…å®¹

å®˜ç½‘ğŸ‘‰[https://numpy.org/](https://numpy.org/)

<!--more-->

## numpyåˆ›å»ºçŸ©é˜µ

ä¸€èˆ¬åˆ›å»ºçŸ©é˜µä½¿ç”¨æ¯”è¾ƒå¤šçš„å°±æ˜¯arrayã€onesç­‰å‡½æ•°ï¼Œä¸‹é¢å±•ç¤ºä¸€äº›éƒ¨åˆ†åˆ›å»ºçŸ©é˜µçš„ç”¨æ³•

```python
import numpy as np

a = np.array([1, 2, 3, 4, 5])
b = np.array(range(1, 6))
c = np.arange(1, 6)
d = np.asarray([1, 2, 3, 4, 5])

print('a', a, type(a), a.dtype)
print('b', b, type(b), b.dtype)
print('c', c, type(c), c.dtype)
print('d', d, type(d), d.dtype)
```

ç»“æœå±•ç¤º

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
a [1 2 3 4 5] <class 'numpy.ndarray'> int32
b [1 2 3 4 5] <class 'numpy.ndarray'> int32
c [1 2 3 4 5] <class 'numpy.ndarray'> int32
d [1 2 3 4 5] <class 'numpy.ndarray'> int32
```

ä¸Šé¢çš„å±•ç¤ºç»“æœè¯´æ˜`aã€bã€cã€d`å†…å®¹çš„å±•ç¤ºï¼Œå…¶ä¸­`aã€bã€cã€d`çš„å†…å®¹éƒ½æ˜¯`1,2,3,4,5`,å…¶ä¸­`aã€bã€cã€d`çš„ç±»å‹æ˜¯`numpy.ndarray`ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ çš„ç±»å‹æ˜¯`int32`

## numpyä¸­å¸¸è§çš„æ•°æ®ç±»å‹

numpyå¸¸è§çš„æ•°æ®ç±»å‹è¡¨å±•ç¤ºå¦‚ä¸‹

| åç§°       | æè¿°                                                         |
| :--------- | :----------------------------------------------------------- |
| bool_      | å¸ƒå°”å‹æ•°æ®ç±»å‹ï¼ˆTrue æˆ–è€… Falseï¼‰                            |
| int_       | é»˜è®¤çš„æ•´æ•°ç±»å‹ï¼ˆç±»ä¼¼äº C è¯­è¨€ä¸­çš„ longï¼Œint32 æˆ– int64ï¼‰     |
| intc       | ä¸ C çš„ int ç±»å‹ä¸€æ ·ï¼Œä¸€èˆ¬æ˜¯ int32 æˆ– int 64                 |
| intp       | ç”¨äºç´¢å¼•çš„æ•´æ•°ç±»å‹ï¼ˆç±»ä¼¼äº C çš„ ssize_tï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä»ç„¶æ˜¯ int32 æˆ– int64ï¼‰ |
| int8       | å­—èŠ‚ï¼ˆ-128 to 127ï¼‰                                          |
| int16      | æ•´æ•°ï¼ˆ-32768 to 32767ï¼‰                                      |
| int32      | æ•´æ•°ï¼ˆ-2147483648 to 2147483647ï¼‰                            |
| int64      | æ•´æ•°ï¼ˆ-9223372036854775808 to 9223372036854775807ï¼‰          |
| uint8      | æ— ç¬¦å·æ•´æ•°ï¼ˆ0 to 255ï¼‰                                       |
| uint16     | æ— ç¬¦å·æ•´æ•°ï¼ˆ0 to 65535ï¼‰                                     |
| uint32     | æ— ç¬¦å·æ•´æ•°ï¼ˆ0 to 4294967295ï¼‰                                |
| uint64     | æ— ç¬¦å·æ•´æ•°ï¼ˆ0 to 18446744073709551615ï¼‰                      |
| float_     | float64 ç±»å‹çš„ç®€å†™                                           |
| float16    | åŠç²¾åº¦æµ®ç‚¹æ•°ï¼ŒåŒ…æ‹¬ï¼š1 ä¸ªç¬¦å·ä½ï¼Œ5 ä¸ªæŒ‡æ•°ä½ï¼Œ10 ä¸ªå°¾æ•°ä½      |
| float32    | å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ŒåŒ…æ‹¬ï¼š1 ä¸ªç¬¦å·ä½ï¼Œ8 ä¸ªæŒ‡æ•°ä½ï¼Œ23 ä¸ªå°¾æ•°ä½      |
| float64    | åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ŒåŒ…æ‹¬ï¼š1 ä¸ªç¬¦å·ä½ï¼Œ11 ä¸ªæŒ‡æ•°ä½ï¼Œ52 ä¸ªå°¾æ•°ä½     |
| complex_   | complex128 ç±»å‹çš„ç®€å†™ï¼Œå³ 128 ä½å¤æ•°                         |
| complex64  | å¤æ•°ï¼Œè¡¨ç¤ºåŒ 32 ä½æµ®ç‚¹æ•°ï¼ˆå®æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†ï¼‰               |
| complex128 | å¤æ•°ï¼Œè¡¨ç¤ºåŒ 64 ä½æµ®ç‚¹æ•°ï¼ˆå®æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†ï¼‰               |

æ•°æ®ç±»å‹çš„ç›¸å…³æ“ä½œ

```python
import numpy as np
# ç”Ÿæˆboolç±»å‹çš„
a = np.array([1, 0, 1, 0], dtype=np.bool_)
# å±•ç¤ºç»“æœ
print('a', a, type(a), a.dtype)
# è½¬åŒ–ä¸ºintç±»å‹
b = a.astype(np.int8)
# å±•ç¤ºç»“æœ
print('b', b, type(b), b.dtype)
```

ç»“æœå±•ç¤º

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
a [ True False  True False] <class 'numpy.ndarray'> bool
b [1 0 1 0] <class 'numpy.ndarray'> int8
```

æµ®ç‚¹æ•°çš„ç›¸å…³æ“ä½œ

```python
import numpy as np

# ç”Ÿæˆå‡å€¼ä¸º1.75,æ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒæ•°æ®,10ä¸ª
a = np.random.normal(1.75, 1, 10)
# å±•ç¤ºç»“æœ
print('a', a, type(a), a.dtype)
# ä¿ç•™ä¸¤ä½å°æ•°
b = np.round(a, 2)
# å±•ç¤ºç»“æœ
print('b', b, type(b), b.dtype)
```

ç»“æœå±•ç¤º

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
a [ 1.13844152  1.2766936   0.99489152  2.03742641  3.27012804  0.6785755
  0.39133123  0.44052134 -0.38859551  1.39006692] <class 'numpy.ndarray'> float64
b [ 1.14  1.28  0.99  2.04  3.27  0.68  0.39  0.44 -0.39  1.39] <class 'numpy.ndarray'> float64
```

## æ•°ç»„çš„å½¢çŠ¶

numpyæ•°ç»„æœ‰ä¸åŒçš„å½¢çŠ¶ï¼Œæœ‰æ—¶å€™ç†è§£èµ·æ¥å¯èƒ½æœ‰äº›éš¾ä»¥ç†è§£ã€‚ç‰¹åˆ«æ˜¯ç»´åº¦å¤šäº†ä¹‹åå°±æ¯”è¾ƒæ™ƒçœ¼ï¼Œä¸è¿‡ä¸€èˆ¬ç†è§£3ç»´ä»¥å†…çš„å°±å¯ä»¥äº†ã€‚

æ¯”å¦‚è¿™ä¸ªä¸‰ç»´æ•°ç»„(çœ‹æœ‰å‡ ä¸ªå·¦æ‹¬å·å°±æ˜¯å‡ ä¸ªç»´åº¦)ï¼Œæ€ä¹ˆçœ‹å‡ºå½¢çŠ¶å‘¢

```
[[[1,2,3],[1,2,3],[1,2,3]],[[1,2,3],[1,2,3],[1,2,3]]]
```

é¦–å…ˆæ˜¯çœ‹æœ€é‡Œé¢é‚£ä¸ª`[1,2,3]`æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æ˜¯3

å…¶æ¬¡æ˜¯çœ‹è¿™ä¸ª`[[1,2,3],[1,2,3],[1,2,3]]`,æœ‰ä¸‰ä¸ª`[1,2,3]`å…ƒç´ ï¼Œæ‰€ä»¥æ˜¯3

æœ€ç»ˆçœ‹`[[[1,2,3],[1,2,3],[1,2,3]],[[1,2,3],[1,2,3],[1,2,3]]]`,æœ‰ä¸¤ä¸ª`[[1,2,3],[1,2,3],[1,2,3]]`ï¼Œæ‰€ä»¥æ˜¯2

ç»¼ä¸Šè¿™ä¸ªæ•°ç»„çš„å½¢çŠ¶æ˜¯`(2,3,3)`

æ•°ç»„å½¢çŠ¶æ“ä½œ

```python
import numpy as np

a = np.array([[3, 4, 5, 6, 7, 8], [4, 5, 6, 7, 8, 9]])
print(a)
print("açš„å½¢çŠ¶", a.shape)
b = a.reshape(3, 4)
print(b)
print("bçš„å½¢çŠ¶", b.shape)
```

ç»“æœå±•ç¤º

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
[[3 4 5 6 7 8]
 [4 5 6 7 8 9]]
(2, 6)
[[3 4 5 6 7 8]
 [4 5 6 7 8 9]]
```

## æ•°ç»„çš„è½´

æ•°ç»„çš„è½´åœ¨numpyä¸­å¯ä»¥ç†è§£ä¸ºæ–¹å‘,ä½¿ç”¨0,1,2...æ•°å­—è¡¨ç¤º,å¯¹äºä¸€ä¸ªä¸€ç»´æ•°ç»„,åªæœ‰ä¸€ä¸ª0è½´,å¯¹äº2ç»´æ•°ç»„(shape(2,2)),æœ‰0è½´å’Œ1è½´,å¯¹äºä¸‰ç»´æ•°ç»„(shape(2,2, 3)),æœ‰0,1,2è½´ã€‚

æœ‰äº†è½´çš„æ¦‚å¿µä¹‹å,æˆ‘ä»¬è®¡ç®—ä¼šæ›´åŠ æ–¹ä¾¿,æ¯”å¦‚è®¡ç®—ä¸€ä¸ª2ç»´æ•°ç»„çš„å¹³å‡å€¼,å¿…é¡»æŒ‡å®šæ˜¯è®¡ç®—å“ªä¸ªæ–¹å‘ä¸Šé¢çš„æ•°å­—çš„å¹³å‡å€¼

å¦‚ï¼š

```python
arr = np.random.randn(4,3)  #shape(4,3)
arr_mean = arr.mean(0)      #shape(3,)
```

å›¾è§£ï¼š

![image-20210726115552814](https://cdn.jsdelivr.net/gh/zhou-ning/blog-image-bed@main/æ•°æ®åˆ†æ/image-20210726115552814.png)

![image-20210726115616019](https://cdn.jsdelivr.net/gh/zhou-ning/blog-image-bed@main/æ•°æ®åˆ†æ/image-20210726115616019.png)



## æ•°ç»„ç›¸å…³çš„è®¡ç®—æ“ä½œ

### æ•°ç»„å’Œç®—çš„è®¡ç®—ç›¸å…³æ“ä½œ

```python
import numpy as np

a = np.array([[3, 4, 5, 6, 7, 8], [4, 5, 6, 7, 8, 9]])
print("açš„å€¼\n", a)
b = a + 1
print("a+1çš„å€¼\n", b)
c = a * 3
print("a*3çš„å€¼\n", c)
```

ç»“æœå±•ç¤ºå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°éƒ½æ˜¯åœ¨æ¯ä¸ªä½ç½®ä¸Šè¿›è¡Œå¯¹åº”çš„æ“ä½œï¼Œè¿™ä¸ªå…¶å®æ˜¯numpyå½“ä¸­çš„å¹¿æ’­æœºåˆ¶

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
açš„å€¼
 [[3 4 5 6 7 8]
 [4 5 6 7 8 9]]
a+1çš„å€¼
 [[ 4  5  6  7  8  9]
 [ 5  6  7  8  9 10]]
a*3çš„å€¼
 [[ 9 12 15 18 21 24]
 [12 15 18 21 24 27]]
```

### æ•°ç»„å’Œæ•°ç»„çš„ç›¸å…³è®¡ç®—ï¼Œæ•°ç»„ç»´åº¦ç›¸åŒæ—¶

```python
import numpy as np

a = np.array([[3, 4, 5, 6, 7, 8], [4, 5, 6, 7, 8, 9]])
print("açš„å€¼\n", a)
b = a * 3
print("bçš„å€¼\n", b)
print("a+bçš„å€¼\n", a + b)
print("a-bçš„å€¼\n", a - b)
print("a*bçš„å€¼\n", a * b)
```

ç»“æœå±•ç¤ºå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ•°ç»„ç›¸ä¹˜æ˜¯å¯¹åº”å…ƒç´ çš„ä¹˜ç§¯ï¼Œä¸çº¿æ€§ä»£æ•°å½“ä¸­çš„çŸ©é˜µç›¸ä¹˜ä¸ä¸€æ ·

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
açš„å€¼
 [[3 4 5 6 7 8]
 [4 5 6 7 8 9]]
bçš„å€¼
 [[ 9 12 15 18 21 24]
 [12 15 18 21 24 27]]
a+bçš„å€¼
 [[12 16 20 24 28 32]
 [16 20 24 28 32 36]]
a-bçš„å€¼
 [[ -6  -8 -10 -12 -14 -16]
 [ -8 -10 -12 -14 -16 -18]]
a*bçš„å€¼
 [[ 27  48  75 108 147 192]
 [ 48  75 108 147 192 243]]
```

### æ•°ç»„å’Œæ•°ç»„çš„ç›¸å…³è®¡ç®—ï¼Œæ•°ç»„ç»´åº¦ä¸åŒæ—¶

ä¸¤ä¸ªæ•°ç»„ç»´åº¦ä¸ç”¨æ—¶ï¼Œnumpyå½“ä¸­ä¼šæœ‰ä¸€ä¸ªè‘—åçš„å¹¿æ’­æœºåˆ¶ï¼Œå…·ä½“çš„è®²è§£å¯ä»¥æŸ¥çœ‹[https://www.cnblogs.com/jiaxin359/p/9021726.html](https://www.cnblogs.com/jiaxin359/p/9021726.html)è¿™ç¯‡æ–‡ç« çš„è®²è§£

```python
import numpy as np

a = np.array([[3, 4, 5, 6, 7, 8], [4, 5, 6, 7, 8, 9]])
print("açš„å€¼\n", a)
b = np.array([1, 2, 3, 4, 5, 6])
print("bçš„å€¼\n", b)
print("a+bçš„å€¼\n", a + b)
print("a-bçš„å€¼\n", a - b)
print("a*bçš„å€¼\n", a * b)
c = np.array([[1], [2]])
print("cçš„å€¼\n", c)
print("a+cçš„å€¼\n", a + c)
print("a-cçš„å€¼\n", a - c)
print("a*cçš„å€¼\n", a * c)
```

ç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°bæ˜¯æ²¿ç€è½´0ä¸Šè¿›è¡Œå¹¿æ’­ï¼Œè€Œcæ˜¯æ²¿ç€è½´1ä¸Šè¿›è¡Œå¹¿æ’­çš„

```shell
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
açš„å€¼
 [[3 4 5 6 7 8]
 [4 5 6 7 8 9]]
bçš„å€¼
 [1 2 3 4 5 6]
a+bçš„å€¼
 [[ 4  6  8 10 12 14]
 [ 5  7  9 11 13 15]]
a-bçš„å€¼
 [[2 2 2 2 2 2]
 [3 3 3 3 3 3]]
a*bçš„å€¼
 [[ 3  8 15 24 35 48]
 [ 4 10 18 28 40 54]]
cçš„å€¼
 [[1]
 [2]]
a+cçš„å€¼
 [[ 4  5  6  7  8  9]
 [ 6  7  8  9 10 11]]
a-cçš„å€¼
 [[2 3 4 5 6 7]
 [2 3 4 5 6 7]]
a*cçš„å€¼
 [[ 3  4  5  6  7  8]
 [ 8 10 12 14 16 18]]
```

## æ•°ç»„çš„æ‹¼æ¥

æ‹¼æ¥ç›¸å…³çš„å‡½æ•°æœ‰è®¸å¤šï¼Œåˆ—å‡ºä¸‹é¢çš„å‡ ä¸ªå‡½æ•°

| å‡½æ•°        | ä»‹ç»                                      |
| :---------- | :---------------------------------------- |
| concatenate | æä¾›äº†axiså‚æ•°ï¼Œç”¨äºæŒ‡å®šæ‹¼æ¥æ–¹å‘          |
| append      | é»˜è®¤å…ˆravelå†æ‹¼æ¥æˆä¸€ç»´æ•°ç»„ï¼Œä¹Ÿå¯æŒ‡å®šaxis |
| stack       | æä¾›äº†axiså‚æ•°ï¼Œç”¨äºç”Ÿæˆæ–°çš„ç»´åº¦          |
| vstack      | å‚ç›´æ‹¼æ¥ï¼Œæ²¿ç€åˆ—çš„æ–¹å‘ï¼Œå¯¹è¡Œè¿›è¡Œæ‹¼æ¥      |
| hstack      | æ°´å¹³æ‹¼æ¥ï¼Œæ²¿ç€è¡Œçš„æ–¹å‘ï¼Œå¯¹åˆ—è¿›è¡Œæ‹¼æ¥      |
| dstack      | æ²¿ç€ç¬¬ä¸‰ä¸ªè½´ï¼ˆæ·±åº¦æ–¹å‘ï¼‰è¿›è¡Œæ‹¼æ¥          |

### concatenate

```python
import numpy as np

a = np.array([[1, 2], [3, 4]])
print('æ•°ç»„a\n', a)
b = np.array([[5, 6]])
print('æ•°ç»„b\n', b)
c = np.array([[5], [6]])
print('æ•°ç»„c\n', b)
print('åœ¨è½´0ä¸Šæ‹¼æ¥\n', np.concatenate((a, b), axis=0))
print('åœ¨è½´1ä¸Šæ‹¼æ¥\n', np.concatenate((a, c), axis=1))
print('ä¸æŒ‡å®šè½´ä¸Šæ‹¼æ¥\n', np.concatenate((a, b), axis=None))
```

ç»“æœå±•ç¤ºï¼Œå¯ä»¥çœ‹åˆ°å¯¹äº0è½´å’Œ1è½´ä¸Šçš„è¿æ¥æ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”å¦‚æœä¸æŒ‡å®šè½´å°±æ˜¯å˜æˆä¸€ç»´

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
æ•°ç»„a
 [[1 2]
 [3 4]]
æ•°ç»„b
 [[5 6]]
æ•°ç»„c
 [[5 6]]
åœ¨è½´0ä¸Šæ‹¼æ¥
 [[1 2]
 [3 4]
 [5 6]]
åœ¨è½´1ä¸Šæ‹¼æ¥
 [[1 2 5]
 [3 4 6]]
ä¸æŒ‡å®šè½´ä¸Šæ‹¼æ¥
 [1 2 3 4 5 6]
```

### append

```python
import numpy as np

a = np.array([[1, 2], [3, 4]])
print('æ•°ç»„a\n', a)
b = np.array([[5, 6]])
print('æ•°ç»„b\n', b)
c = np.array([[5], [6]])
print('æ•°ç»„c\n', b)
print('åœ¨è½´0ä¸Šæ‹¼æ¥\n', np.append(a, b, axis=0))
print('åœ¨è½´1ä¸Šæ‹¼æ¥\n', np.append(a, c, axis=1))
print('ä¸æŒ‡å®šè½´ä¸Šæ‹¼æ¥\n', np.append(a, b))
```

ç»“æœå±•ç¤º

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
æ•°ç»„a
 [[1 2]
 [3 4]]
æ•°ç»„b
 [[5 6]]
æ•°ç»„c
 [[5 6]]
åœ¨è½´0ä¸Šæ‹¼æ¥
 [[1 2]
 [3 4]
 [5 6]]
åœ¨è½´1ä¸Šæ‹¼æ¥
 [[1 2 5]
 [3 4 6]]
ä¸æŒ‡å®šè½´ä¸Šæ‹¼æ¥
 [1 2 3 4 5 6]
```

### stack

stackå‡½æ•°æ¯”è¾ƒå¤æ‚ï¼Œä»¥åå†è¡¥ä¸Š

### vstackã€hstackå’Œdstack

vstackã€hstackå’Œdstackåˆ†åˆ«ä»£è¡¨å‚ç›´æ‹¼æ¥ã€æ°´å¹³æ‹¼æ¥å’Œæ·±åº¦æ‹¼æ¥

```python
import numpy as np

a = np.array((1, 2, 3))
print('æ•°ç»„a\n', a)
b = np.array((4, 5, 6))
print('æ•°ç»„b\n', b)
print('å‚ç›´æ‹¼æ¥\n', np.vstack((a, b)))
print('æ°´å¹³æ‹¼æ¥\n', np.hstack((a, b)))
print('æ·±åº¦æ‹¼æ¥\n', np.dstack((a, b)))
```

ç»“æœå±•ç¤º

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
æ•°ç»„a
 [1 2 3]
æ•°ç»„b
 [4 5 6]
å‚ç›´æ‹¼æ¥
 [[1 2 3]
 [4 5 6]]
æ°´å¹³æ‹¼æ¥
 [1 2 3 4 5 6]
æ·±åº¦æ‹¼æ¥
 [[[1 4]
  [2 5]
  [3 6]]]
```

å¯èƒ½æ°´å¹³å’Œå‚ç›´æ¯”è¾ƒå¥½ç†è§£ï¼Œé‚£ä¸ªæ·±åº¦æ‹¼æ¥ï¼ˆç¬¬ä¸‰ä¸ªç»´åº¦ï¼‰å°±æ¯”è¾ƒéš¾ä»¥ç†è§£äº†ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£ä¸Šçš„è§£é‡Šæ˜¯`è¿™ç­‰æ•ˆäºåœ¨å½¢çŠ¶ (M,N) çš„äºŒç»´é˜µåˆ—è¢«é‡æ–°æ•´å½¢ä¸º (M,N,1) å¹¶ä¸”å½¢çŠ¶ (N,) çš„ä¸€ç»´é˜µåˆ—è¢«é‡æ–°æ•´å½¢ä¸º (1, N,1)ã€‚é‡å»ºé™¤ä»¥ dsplit çš„æ•°ç»„`ã€‚ä¹Ÿå°±æ˜¯æ˜¯è¯´äºŒç»´æ•°ç»„å’Œä¸€ç»´æ•°ç»„éƒ½ä¼šè¢«é‡æ–°reshapeæˆä¸‰ç»´æ•°ç»„ã€‚æ‰€ä»¥å‡ºç°äº†ä¸Šé¢çš„ç»“æœ

## numpyç´¢å¼•å’Œåˆ‡ç‰‡

numpyä¸­ç´¢å¼•å’Œåˆ‡ç‰‡å’ŒpythonåŸç”Ÿçš„listæ˜¯ç›¸åŒçš„

```python
import numpy as np

a = np.arange(24).reshape((4, 6))
print('å±•ç¤ºa\n', a)
print("å–ä¸€è¡Œ", a[0])
print("å–ä¸€åˆ—", a[:, 2])
print("å–å¤šè¡Œ\n", a[0:2])
print("å–å¤šåˆ—\n", a[:, 0:2])
print("å–å¤šè¡Œå¤šåˆ—\n", a[0:3, 0:3])
print("ä½¿ç”¨æ•°ç»„ç´¢å¼•\n", a[[0, 1, 2], [0, 1, 0]])
print("ä½¿ç”¨æ•°ç»„ç´¢å¼•\n", a[[0, 0, 3, 3], [0, 2, 0, 2]])
print("ä½¿ç”¨æ•°ç»„ç´¢å¼•\n", a[[[0, 0], [3, 3]], [[0, 2], [0, 2]]])
```

ç»“æœå±•ç¤ºï¼Œå¯ä»¥å‘ç°æ•°ç»„ç´¢å¼•çš„ç»´åº¦ä¼šå¯¹è¿”å›åçš„ç»´åº¦äº§ç”Ÿå½±å“

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
å±•ç¤ºa
 [[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
å–ä¸€è¡Œ [0 1 2 3 4 5]
å–ä¸€åˆ— [ 2  8 14 20]
å–å¤šè¡Œ
 [[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]]
å–å¤šåˆ—
 [[ 0  1]
 [ 6  7]
 [12 13]
 [18 19]]
å–å¤šè¡Œå¤šåˆ—
 [[ 0  1  2]
 [ 6  7  8]
 [12 13 14]]
ä½¿ç”¨æ•°ç»„ç´¢å¼•
 [ 0  7 12]
ä½¿ç”¨æ•°ç»„ç´¢å¼•
 [ 0  2 18 20]
ä½¿ç”¨æ•°ç»„ç´¢å¼•
 [[ 0  2]
 [18 20]]
```

numpyå½“ä¸­è¿˜å¯ä»¥ä½¿ç”¨å¸ƒå°”ç´¢å¼•

```python
import numpy as np

a = np.arange(24).reshape((4, 6))
print('å±•ç¤ºa\n', a)
b = a < 10
print("å±•ç¤ºb\n", b)
print("ä½¿ç”¨å¸ƒå°”ç´¢å¼•\n", a[b])
```

ç»“æœå±•ç¤º

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
å±•ç¤ºa
 [[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
å±•ç¤ºb
 [[ True  True  True  True  True  True]
 [ True  True  True  True False False]
 [False False False False False False]
 [False False False False False False]]
ä½¿ç”¨å¸ƒå°”ç´¢å¼•
 [0 1 2 3 4 5 6 7 8 9]
```

## numpyä¸­çš„nanå’Œinf

nan(NAN,Nan):not a numberè¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—

ä»€ä¹ˆæ—¶å€™numpyä¸­ä¼šå‡ºç°nanï¼Ÿ

å½“æˆ‘ä»¬è¯»å–æœ¬åœ°çš„æ–‡ä»¶ä¸ºfloatçš„æ—¶å€™ï¼Œå¦‚æœæœ‰ç¼ºå¤±ï¼Œå°±ä¼šå‡ºç°nanï¼Œæˆ–è€…å½“åšäº†ä¸€ä¸ªä¸åˆé€‚çš„è®¡ç®—çš„æ—¶å€™(æ¯”å¦‚æ— ç©·å¤§(inf)å‡å»æ— ç©·å¤§)

inf(-inf,inf):infinity,infè¡¨ç¤ºæ­£æ— ç©·ï¼Œ-infè¡¨ç¤ºè´Ÿæ— ç©·

ä»€ä¹ˆæ—¶å€™å›å‡ºç°infåŒ…æ‹¬ï¼ˆ-infï¼Œ+infï¼‰ï¼Ÿ

æ¯”å¦‚ä¸€ä¸ªæ•°å­—é™¤ä»¥0ï¼Œï¼ˆpythonä¸­ç›´æ¥ä¼šæŠ¥é”™ï¼Œnumpyä¸­æ˜¯ä¸€ä¸ªinfæˆ–è€…-infï¼‰

```python
import numpy as np

a = np.inf
b = np.nan
print(type(a)) # <class 'float'>
print(type(b)) # <class 'float'>
```

nanéœ€è¦æ³¨æ„çš„ç‚¹

1. ä¸¤ä¸ªnanæ˜¯ä¸ç›¸ç­‰çš„

   ```python
   np.nan==np.nan #False
   np.nan!=np.nan #True
   ```

2. ä»»ä½•å€¼å’Œnanè¿›è¡Œè®¡ç®—éƒ½æ˜¯nan

åˆ¤æ–­æ•°ç»„ä¸­nançš„ä¸ªæ•°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`np.count_nonzero(t!=t)`è¿›è¡Œ

æ”¹å˜æ•°ç»„ä¸­nançš„å€¼ä¹Ÿå¯ä»¥ä½¿ç”¨`t[np.isnan(t)] = 0`è¿›è¡Œ

## å…¶ä»–

numpyå½“ä¸­ä¸‰å…ƒè¿ç®—ç¬¦`where`

```python
import numpy as np

a = np.arange(10)
print('açš„å€¼\n', a)
# å°†a å½“ä¸­å¤§äº5çš„éƒ¨åˆ†ä¹˜ä»¥10
print(np.where(a < 5, a, 10 * a))

```

ç»“æœå±•ç¤º

```
D:\ProgramData\Anaconda3\python.exe E:/work_space/shixi/Problem/Test.py
açš„å€¼
 [0 1 2 3 4 5 6 7 8 9]
[ 0  1  2  3  4 50 60 70 80 90]
```

numpyå½“ä¸­ç»å¸¸ä½¿ç”¨çš„ç»Ÿè®¡å‡½æ•°æœ‰

```
æ±‚å’Œï¼št.sum(axis=None)

å‡å€¼ï¼št.mean(a,axis=None) å—ç¦»ç¾¤ç‚¹çš„å½±å“è¾ƒå¤§

ä¸­å€¼ï¼šnp.median(t,axis=None)

æœ€å¤§å€¼ï¼št.max(axis=None)

æœ€å°å€¼ï¼št.min(axis=None)

æå€¼ï¼šnp.ptp(t,axis=None) å³æœ€å¤§å€¼å’Œæœ€å°å€¼å·®

æ ‡å‡†å·®ï¼št.std(axis=None)

è·å–æœ€å¤§å€¼æœ€å°å€¼çš„ä½ç½® np.argmax(t,axis=0) np.argmin(t,axis=1)

åˆ›å»ºä¸€ä¸ªå…¨0çš„æ•°ç»„: np.zeros((3,4))

åˆ›å»ºä¸€ä¸ªå…¨1çš„æ•°ç»„:np.ones((3,4))

åˆ›å»ºä¸€ä¸ªå¯¹è§’çº¿ä¸º1çš„æ­£æ–¹å½¢æ•°ç»„(æ–¹é˜µ)np.eye(3)
```

